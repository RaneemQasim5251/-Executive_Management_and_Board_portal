# Executive Management Portal - Production Environment Configuration
# Copy this file to .env.production and fill in your actual values
# NEVER commit actual secrets to version control

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=production
VITE_APP_TITLE=Executive Management Portal
VITE_APP_VERSION=1.0.0
VITE_APP_DESCRIPTION=Al Jeri Executive Board Platform

# ============================================
# SUPABASE CONFIGURATION
# ============================================
# Get these from your Supabase project settings
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# Server-side Supabase configuration (for API routes)
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Direct database connection (if needed for migrations/admin tasks)
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-at-least-32-characters-long
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-session-secret-key
SESSION_TIMEOUT=86400000
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME=900000

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# MFA Configuration (optional)
MFA_ENABLED=false
MFA_ISSUER=Al Jeri Executive Portal
TOTP_WINDOW=1

# ============================================
# REDIS CONFIGURATION (for caching & sessions)
# ============================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_KEY_PREFIX=exec_portal:
REDIS_TTL_DEFAULT=3600

# ============================================
# FILE STORAGE (S3-compatible)
# ============================================
# AWS S3 or compatible service (like Supabase Storage)
S3_BUCKET=executive-portal-files
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your-s3-access-key
S3_SECRET_ACCESS_KEY=your-s3-secret-key
S3_ENDPOINT=https://s3.amazonaws.com
S3_FORCE_PATH_STYLE=false

# File upload limits
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,gif

# ============================================
# AI & ANALYTICS CONFIGURATION
# ============================================
# OpenAI API (for AI Assistant)
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.3

# Alternative AI providers
ANTHROPIC_API_KEY=your-anthropic-api-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_KEY=your-azure-openai-key

# Analytics and monitoring
ANALYTICS_ENABLED=true
TRACK_USER_BEHAVIOR=true
ANONYMIZE_SENSITIVE_DATA=true

# ============================================
# EMAIL CONFIGURATION
# ============================================
# SMTP settings for notifications
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@company.com
SMTP_PASSWORD=your-email-password

# Email templates
FROM_EMAIL=noreply@aljeri.com
FROM_NAME=Al Jeri Executive Portal
REPLY_TO_EMAIL=support@aljeri.com

# Email features
EMAIL_NOTIFICATIONS_ENABLED=true
DIGEST_EMAIL_ENABLED=true
DIGEST_EMAIL_FREQUENCY=weekly

# ============================================
# PUSH NOTIFICATIONS (optional)
# ============================================
# Firebase Cloud Messaging
FCM_SERVER_KEY=your-fcm-server-key
FCM_PROJECT_ID=your-firebase-project-id

# Apple Push Notifications
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-apple-team-id
APNS_BUNDLE_ID=com.aljeri.executive-portal

# ============================================
# MONITORING & OBSERVABILITY
# ============================================
# Error tracking (Sentry)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application Performance Monitoring
APM_ENABLED=true
APM_SERVICE_NAME=executive-portal
APM_SERVICE_VERSION=1.0.0

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/executive-portal.log
LOG_ROTATION=daily

# Metrics (Prometheus)
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# ============================================
# RATE LIMITING & SECURITY
# ============================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_FAILED_REQUESTS=true

# API rate limits
API_RATE_LIMIT_WINDOW=3600000
API_RATE_LIMIT_MAX=1000
AI_RATE_LIMIT_MAX=50

# Security headers
ENABLE_HELMET=true
ENABLE_CORS=true
CORS_ORIGIN=https://your-domain.com
CONTENT_SECURITY_POLICY=default-src 'self'

# DDoS protection
ENABLE_DDOS_PROTECTION=true
DDOS_BURST=20
DDOS_LIMIT=15

# ============================================
# BACKGROUND JOBS & QUEUES
# ============================================
# Bull/BullMQ configuration
QUEUE_REDIS_URL=redis://localhost:6379/1
QUEUE_CONCURRENCY=5
QUEUE_ATTEMPTS=3
QUEUE_BACKOFF=exponential

# Job types
ENABLE_KPI_AGGREGATION_JOB=true
ENABLE_EMAIL_DIGEST_JOB=true
ENABLE_DATA_CLEANUP_JOB=true
ENABLE_BACKUP_JOB=true

# Cron schedules
KPI_AGGREGATION_SCHEDULE=0 */6 * * *
EMAIL_DIGEST_SCHEDULE=0 8 * * 1
DATA_CLEANUP_SCHEDULE=0 2 * * 0
BACKUP_SCHEDULE=0 3 * * *

# ============================================
# FEATURE FLAGS
# ============================================
# AI Features
ENABLE_AI_ASSISTANT=true
ENABLE_ANOMALY_DETECTION=true
ENABLE_KPI_EXPLANATIONS=true
ENABLE_PREDICTIVE_ANALYTICS=true

# Collaboration Features
ENABLE_REAL_TIME_COLLABORATION=true
ENABLE_COMMENTS=true
ENABLE_FILE_SHARING=true
ENABLE_NOTIFICATIONS=true

# Analytics Features
ENABLE_ADVANCED_REPORTING=true
ENABLE_DASHBOARD_EXPORT=true
ENABLE_DATA_VISUALIZATION=true

# Security Features
ENABLE_TWO_FACTOR_AUTH=true
ENABLE_SESSION_RECORDING=false
ENABLE_AUDIT_LOGGING=true
ENABLE_IP_WHITELISTING=false

# ============================================
# PERFORMANCE & SCALING
# ============================================
# Caching
ENABLE_RESPONSE_CACHING=true
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# Database
DB_QUERY_TIMEOUT=30000
DB_STATEMENT_TIMEOUT=60000
ENABLE_QUERY_LOGGING=false

# CDN Configuration
CDN_ENABLED=true
CDN_URL=https://cdn.your-domain.com
STATIC_ASSETS_CDN=true

# Load balancing
ENABLE_STICKY_SESSIONS=false
SESSION_AFFINITY=ip_hash

# ============================================
# BACKUP & DISASTER RECOVERY
# ============================================
# Database backups
ENABLE_AUTO_BACKUP=true
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# File backups
BACKUP_FILES_ENABLED=true
BACKUP_S3_BUCKET=executive-portal-backups
BACKUP_SCHEDULE=daily

# ============================================
# COMPLIANCE & AUDIT
# ============================================
# Data retention
DATA_RETENTION_DAYS=2555
LOG_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=2555

# Privacy
ENABLE_DATA_ANONYMIZATION=true
ENABLE_GDPR_COMPLIANCE=true
COOKIE_CONSENT_REQUIRED=true

# Audit requirements
AUDIT_ALL_CHANGES=true
AUDIT_LOGIN_ATTEMPTS=true
AUDIT_DATA_ACCESS=true
AUDIT_EXPORT_OPERATIONS=true

# ============================================
# DEVELOPMENT & TESTING
# ============================================
# Only enable in non-production environments
DEBUG_MODE=false
ENABLE_SWAGGER_UI=false
ENABLE_GRAPHQL_PLAYGROUND=false
ENABLE_PROFILER=false

# Testing
ENABLE_TEST_DATA=false
MOCK_EXTERNAL_APIS=false

# ============================================
# HEALTH CHECKS & MONITORING
# ============================================
# Health check endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
DEEP_HEALTH_CHECK_PATH=/health/deep

# Monitoring intervals
HEALTH_CHECK_INTERVAL=30000
METRICS_COLLECTION_INTERVAL=60000
LOG_FLUSH_INTERVAL=5000

# Alerts
ALERT_EMAIL=alerts@aljeri.com
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/your-webhook
CRITICAL_ERROR_THRESHOLD=5
RESPONSE_TIME_THRESHOLD=5000

# ============================================
# LOCALIZATION
# ============================================
# Default language and supported languages
DEFAULT_LANGUAGE=ar
SUPPORTED_LANGUAGES=ar,en
FALLBACK_LANGUAGE=en

# RTL support
ENABLE_RTL=true
RTL_LANGUAGES=ar,he,fa

# Currency and formatting
DEFAULT_CURRENCY=SAR
DEFAULT_TIMEZONE=Asia/Riyadh
DATE_FORMAT=DD/MM/YYYY
TIME_FORMAT=HH:mm

# ============================================
# THIRD-PARTY INTEGRATIONS
# ============================================
# Microsoft Graph (for Office 365 integration)
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_TENANT_ID=your-tenant-id

# Google Workspace
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Slack integration
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_SIGNING_SECRET=your-slack-signing-secret
SLACK_WORKSPACE_ID=your-slack-workspace

# Zoom integration
ZOOM_API_KEY=your-zoom-api-key
ZOOM_API_SECRET=your-zoom-api-secret

# ============================================
# CUSTOM BUSINESS LOGIC
# ============================================
# Al Jeri specific configurations
COMPANY_NAME=Al Jeri Group
COMPANY_CODE=AJG
HEADQUARTERS_TIMEZONE=Asia/Riyadh
FISCAL_YEAR_START=01-01
WORKING_DAYS=sunday,monday,tuesday,wednesday,thursday
WORKING_HOURS_START=08:00
WORKING_HOURS_END=17:00

# KPI calculation settings
KPI_CALCULATION_FREQUENCY=hourly
KPI_HISTORICAL_MONTHS=24
ANOMALY_DETECTION_SENSITIVITY=medium
FORECAST_HORIZON_MONTHS=6

# Executive dashboard settings
DASHBOARD_REFRESH_INTERVAL=300000
DASHBOARD_AUTO_REFRESH=true
EXECUTIVE_SESSION_TIMEOUT=7200000

# ============================================
# SECURITY NOTES
# ============================================
# 1. Never commit this file with real values to version control
# 2. Use strong, unique passwords and keys
# 3. Rotate secrets regularly
# 4. Use environment-specific configurations
# 5. Enable all security features in production
# 6. Monitor and audit access to this configuration
# 7. Use a secrets management service in production (AWS Secrets Manager, Azure Key Vault, etc.)

# ============================================
# DEPLOYMENT NOTES
# ============================================
# 1. Validate all environment variables before deployment
# 2. Test database connections and migrations
# 3. Verify external service integrations
# 4. Run health checks after deployment
# 5. Monitor application startup and performance
# 6. Have rollback procedures ready
